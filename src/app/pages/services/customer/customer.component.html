<div class="min-h-screen mat-app-background">
  <mat-toolbar color="primary" class="flex flex-wrap items-center">
    <span class="text-lg md:text-xl font-bold">Sistema de Gestión de Inventario</span>
    <span class="flex-grow"></span>
    <button mat-raised-button color="accent" class="mr-4 mb-2 md:mb-0" (click)="agregarCustomer()">
      <mat-icon class="mr-2">add</mat-icon>
      <span class="hidden sm:inline">Agregar Cliente</span>
    </button>
  </mat-toolbar>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6">
    <mat-card *ngFor="let customer of customers" class="shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 bg-white rounded-lg">
      <mat-card-header class="bg-blue-400 text-white rounded-t-lg p-4">
        <div mat-card-avatar class="bg-white rounded-full p-2">
          <mat-icon class="text-blue-600">person</mat-icon>
        </div>
        <div class="ml-4">
          <mat-card-title class="text-xl font-bold tracking-wide">{{ customer.firstName }} {{ customer.lastName }}</mat-card-title>
          <mat-card-subtitle class="text-white">{{ customer.email }}</mat-card-subtitle>
        </div>
      </mat-card-header>

      <mat-card-content class="text-gray-700 space-y-3 p-4 m-3">
        <p class="flex items-center">
          <mat-icon class="text-blue-500 mr-2">phone</mat-icon>
          <span><strong>Tel:</strong> {{ customer.phoneNumber }}</span>
        </p>
        <p class="flex items-center">
          <mat-icon class="text-blue-500 mr-2">cake</mat-icon>
          <span><strong>Nac:</strong> {{ customer.dateOfBirth | date:'shortDate' }}</span>
        </p>
        <p class="flex items-center">
          <mat-icon class="text-blue-500 mr-2">home</mat-icon>
          <span><strong>Dir:</strong> {{ customer.address }}</span>
        </p>
        <p class="flex items-center">
          <mat-icon class="text-blue-500 mr-2">healing</mat-icon>
          <span><strong>Alergias:</strong> {{ customer.allergies.join(', ') || 'Ninguna' }}</span>
        </p>
        <p class="flex items-center">
          <mat-icon class="text-blue-500 mr-2">local_hospital</mat-icon>
          <span><strong>Cond. Crónicas:</strong> {{ customer.chronicConditions.join(', ') || 'Ninguna' }}</span>
        </p>
        <p class="flex items-center">
          <mat-icon class="text-blue-500 mr-2">event</mat-icon>
          <span><strong>Últ. Visita:</strong> {{ customer.lastVisit | date:'shortDate' }}</span>
        </p>
      </mat-card-content>

      <mat-card-actions class="flex justify-end items-center gap-3 p-5">
        <!-- Botón Editar - Amarillo/Ámbar -->
        <button mat-button
                class="flex items-center bg-emerald-500 hover:bg-emerald-100
                   transition-all duration-300 rounded-lg px-4 py-2
                   hover:shadow-md group"
                (click)="editCustomer(customer.id)">
          <mat-icon class="mr-2 text-emerald-400">edit</mat-icon>
          <span class="font-medium text-emerald-400">Editar</span>
        </button>

        <!-- Botón Carrito - Verde -->
        <button mat-button
                class="flex items-center bg-emerald-500 hover:bg-blue-100
                   transition-all duration-300 rounded-lg px-4 py-2
                   hover:shadow-lg transform hover:-translate-y-0.5 group"
                (click)="navigateToCart(customer.id)">
          <mat-icon class="mr-2 text-blue-400">shopping_cart</mat-icon>
          <span class="font-medium text-blue-400">Carrito</span>
        </button>

        <!-- Botón Eliminar - Rojo -->
        <button mat-button
                class="flex items-center bg-red-500 hover:bg-red-100
                   transition-all duration-300 rounded-lg px-4 py-2
                   hover:shadow-md group"
                (click)="deleteCustomer(customer.id)">
          <mat-icon class="mr-2 text-red-400">delete</mat-icon>
          <span class="font-medium text-red-400">Eliminar</span>
        </button>
      </mat-card-actions>

    </mat-card>
  </div>
</div>
